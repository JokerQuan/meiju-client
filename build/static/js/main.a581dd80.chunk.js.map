{"version":3,"sources":["redux/action-types.js","redux/reducers.js","redux/store.js","utils/ajax.js","redux/actions.js","components/meiju_detail/meiju_detail.jsx","components/meiju_list/meiju_list.jsx","containers/home/home.jsx","containers/recommend/recommend.jsx","containers/category/category.jsx","containers/search/search.jsx","components/menu_bar/menu_bar.jsx","containers/main/main.jsx","index.js"],"names":["RECEIVE_MEIJU_LIST","RECEIVE_CATEGORY","RECEIVE_MEIJU_COUNT","ERROR","IS_LOADING","initMeijuList","initCategory","tags","areas","types","initCount","initLoading","combineReducers","meijuList","state","arguments","length","undefined","action","type","data","category","meijuCount","isLoading","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","ajax","url","params","paramsStr","Object","keys","forEach","key","substring","lastIndexOf","axios","get","post","error","errMsg","is_loading","idLoading","getMeijuList","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","response","result","wrap","_context","prev","next","sent","code","stop","_x","apply","this","getMeijuCount","_ref3","_callee3","_context3","count","_x3","Paragraph","MeijuDetail","handleCopy","message","success","_this2","meiju","props","react_default","createElement","className","alt","src","pic_url","title","alias_title","en_title","area","birth_date","translator","files","name","copyable","text","map","file","join","onCopy","index","href","rel","target","Component","MeijuList","detailsDialog","modal","info","icon","okText","content","meiju_detail_meiju_detail","centered","maskClosable","width","row","gutter","align","col","_id","xs","sm","md","lg","xl","xxl","onClick","bind","style","backgroundImage","concat","Home","onPageChange","page","_this","document","documentElement","scrollTop","antIcon","fontSize","spin","indicator","spinning","size","meiju_list_meiju_list","pagination","total","pageSize","onChange","connect","Recommend","Category","_this$props$match$par","match","prop","customState","_this$props$match$par2","Search","keyword","SubMenu","MenuBar","_this$props","defaultSelectedMenu","menuMode","menu","theme","mode","defaultSelectedKeys","lineHeight","Item","react_router_dom","to","tag","Header","Content","Footer","history","createBrowserHistory","subTitle","Main","getSubTitle","_sunTitle","categoryKey","decodeURI","getCategory","minHeight","window","innerHeight","getElementById","cssText","onresize","location","split","splice","listen","pathname","innerHTML","react_router","layout","menu_bar","input","placeholder","enterButton","onSearch","value","push","id","display","divider","path","component","exact","textAlign","back_top","_ref2","_callee2","_context2","_x2","FastClick","attach","body","ReactDOM","render","es","store","main_main"],"mappings":"uTAIaA,EAAqB,qBACrBC,EAAmB,mBACnBC,EAAsB,sBACtBC,EAAQ,QAERC,EAAa,aCIpBC,EAAgB,GAYtB,IAAMC,EAAe,CACjBC,KAAO,GACPC,MAAQ,GACRC,MAAQ,IAaZ,IAAMC,EAAY,EAYlB,IAAMC,GAAc,EAULC,gCAAgB,CAC3BC,UAlDJ,WAAkD,IAA/BC,EAA+BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAvBV,EAAea,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9C,OAAQC,EAAOC,MACX,KAAKnB,EAEL,KAAKG,EACD,OAAOe,EAAOE,KAClB,QACI,OAAON,IA4CfO,SAnCJ,WAAgD,IAA9BP,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBT,EAAcY,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5C,OAAQC,EAAOC,MACX,KAAKlB,EAEL,KAAKE,EACD,OAAOe,EAAOE,KAClB,QACI,OAAON,IA6BfQ,WAxBJ,WAA+C,IAA3BR,EAA2BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAnBL,EAAWQ,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC3C,OAAQC,EAAOC,MACX,KAAKjB,EAEL,KAAKC,EACD,OAAOe,EAAOE,KAClB,QACI,OAAON,IAkBfS,UAbJ,WAAgD,IAA7BT,EAA6BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAArBJ,EAAaO,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5C,OAAQC,EAAOC,MACX,KAAKf,EACD,OAAOc,EAAOE,KAClB,QACI,OAAON,MChDJU,wBAAYC,EAAUC,8BAAoBC,0BAAgBC,yOCTnEC,EAAO,CAEbA,IAAW,SAACC,GAAqB,IAAhBC,EAAgBhB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAClBiB,EAAY,GAUhB,OATAC,OAAOC,KAAKH,GAAQI,QAAQ,SAAAC,GACxBJ,GAAaI,EAAM,IAAML,EAAOK,GAAO,MAGzB,KAAdJ,IAEAF,EAAMA,EAAM,KADZE,EAAYA,EAAUK,UAAU,EAAGL,EAAUM,YAAY,QAItDC,IAAMC,IAAIV,IAGrBD,KAAY,SAACC,GAAqB,IAAhBC,EAAgBhB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACvB,OAAOwB,IAAME,KAAKX,EAAKC,KAGZF,ICJTa,EAAQ,SAACC,GAAD,MAAa,CAACxB,KAAMhB,EAAOiB,KAAMuB,IAEzCC,EAAa,SAACC,GAAD,MAAgB,CAAC1B,KAAMf,EAAYgB,KAAMyB,IAE/CC,EAAe,SAAChB,EAAKC,GAC9B,sBAAAgB,EAAAd,OAAAe,EAAA,EAAAf,CAAAgB,EAAAC,EAAAC,KAAO,SAAAC,EAAMC,GAAN,IAAAC,EAAAC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACHN,EAAST,GAAW,IADjBa,EAAAE,KAAA,EAEoB9B,EAAKW,IAAIV,EAAKC,GAFlC,OAEGuB,EAFHG,EAAAG,KAIiB,KADdL,EAASD,EAASlC,MACbyC,KACPR,GAbgBxC,EAaY0C,EAAOnC,KAbJ,CAACD,KAAMnB,EAAoBoB,KAAMP,KAehEwC,EAASX,EAAMa,EAAOZ,SAE1BU,EAAST,GAAW,IATjB,wBAAAa,EAAAK,OARgB,IAACjD,GAQjBuC,MAAP,gBAAAW,GAAA,OAAAhB,EAAAiB,MAAAC,KAAAlD,YAAA,IAyBSmD,EAAgB,SAACpC,GAC1B,sBAAAqC,EAAAlC,OAAAe,EAAA,EAAAf,CAAAgB,EAAAC,EAAAC,KAAO,SAAAiB,EAAMf,GAAN,IAAAC,EAAAC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,cAAAU,EAAAV,KAAA,EACoB9B,EAAKW,IAAIV,GAD7B,OACGwB,EADHe,EAAAT,KAGiB,KADdL,EAASD,EAASlC,MACbyC,KACPR,GApCiB/B,EAoCYiC,EAAOnC,KAAKkD,MApCR,CAACnD,KAAMjB,EAAqBkB,KAAME,KAsCnE+B,EAASX,EAAMa,EAAOZ,SANvB,wBAAA0B,EAAAP,OAhCiB,IAACxC,GAgClB8C,MAAP,gBAAAG,GAAA,OAAAJ,EAAAH,MAAAC,KAAAlD,YAAA,sGC3CGyD,2BA2DQC,8MAnDXC,WAAa,WACTC,EAAA,EAAQC,QAAQ,uKAGX,IAAAC,EAAAZ,KACEa,EAASb,KAAKc,MAAdD,MACP,OACIE,EAAA9B,EAAA+B,cAAA,WACID,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,YACXF,EAAA9B,EAAA+B,cAAA,OAAKE,IAAI,GAAGC,IAAKN,EAAMO,UACvBL,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,QACXF,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,gBAAgBJ,EAAMQ,OACpCN,EAAA9B,EAAA+B,cAACT,GAAD,KAAY,qBAAQM,EAAMS,aAC1BP,EAAA9B,EAAA+B,cAACT,GAAD,KAAY,2BAASM,EAAMU,UAC3BR,EAAA9B,EAAA+B,cAACT,GAAD,KAAY,qBAAQM,EAAM3D,MAC1B6D,EAAA9B,EAAA+B,cAACT,GAAD,KAAY,qBAAQM,EAAMW,MAC1BT,EAAA9B,EAAA+B,cAACT,GAAD,KAAY,qBAAQM,EAAMvE,MAC1ByE,EAAA9B,EAAA+B,cAACT,GAAD,KAAY,iCAAUM,EAAMY,YAC5BV,EAAA9B,EAAA+B,cAACT,GAAD,KAAY,qBAAQM,EAAMa,cAI9Bb,EAAMc,OAASd,EAAMc,MAAM5E,OAAS,GAAK8D,EAAMc,MAAM,GAAGC,MAAQf,EAAMc,MAAM,GAAG9D,IAE/EkD,EAAA9B,EAAA+B,cAAA,WACID,EAAA9B,EAAA+B,cAACT,GAAD,CAAWU,UAAU,eACjBY,SAAU,CACNC,KAAMjB,EAAMc,MAAMI,IAAI,SAAAC,GAAI,OAAIA,EAAKnE,MAAKoE,KAAK,MAC7CC,OAAQlC,KAAKS,aAHrB,oDAMAM,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,gBAEPJ,EAAMc,MAAMI,IAAI,SAACC,EAAMG,GAAP,OACZpB,EAAA9B,EAAA+B,cAACT,GAAD,CAAWpC,IAAKgE,EAAON,SAAU,CAACC,KAAME,EAAKnE,IAAKqE,OAAQtB,EAAKH,aAAcuB,EAAKJ,UAMlGb,EAAA9B,EAAA+B,cAAA,WACID,EAAA9B,EAAA+B,cAACT,GAAD,KAAY,yFACZQ,EAAA9B,EAAA+B,cAAA,KAAGoB,KAAM,0BAA4BvB,EAAMuB,KAAMC,IAAI,sBAAsBC,OAAO,UAAU,qCAhD1FC,aCiDXC,8MA3CXC,cAAgB,SAAC5B,GACb6B,EAAA,EAAMC,KAAK,CACPC,KAAO,KACP3B,UAAY,QACZ4B,OAAS,eACTC,QAAU/B,EAAA9B,EAAA+B,cAAC+B,GAAD,CAAalC,MAAOA,IAC9BmC,UAAW,EACXC,cAAe,EACfC,MAAQ,kFAIP,IAAAtC,EAAAZ,KACEpD,EAAaoD,KAAKc,MAAlBlE,UACP,OACImE,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,mBACXF,EAAA9B,EAAA+B,cAAAmC,EAAA,GAAKC,OAAQ,GAAIlG,KAAK,OAAOmG,MAAM,UAE3BzG,EAAUmF,IAAI,SAAClB,GAAD,OACVE,EAAA9B,EAAA+B,cAAAsC,EAAA,GAAKrC,UAAU,MACP9C,IAAK0C,EAAM0C,IAAKC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGC,IAAK,GAChE9C,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,cACXF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,mBAAmB6C,QAASlD,EAAK6B,cAAcsB,KAAKnD,EAAMC,GACrEmD,MAAO,CAACC,gBAAe,OAAAC,OAASrD,EAAMO,QAAf,OAEvBL,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,UACfF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,eACXF,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,cAAcJ,EAAMW,KAAK,IAAIX,EAAM3D,MAAY6D,EAAA9B,EAAA+B,cAAA,WAC/DD,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,cAAc,qBAAOJ,EAAMvE,MAC3CyE,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,SAASJ,EAAMQ,sBAnCjDkB,aCDlB4B,8MAOFC,aAAe,SAACC,GACZC,EAAKxD,MAAMjC,aAAa,eAAiBwF,EAAO,IAChDE,SAASC,gBAAgBC,UAAY,sFANrCzE,KAAKc,MAAMjC,aAAa,gBACxBmB,KAAKc,MAAMb,cAAc,oDASzB,IAAMyE,EAAU3D,EAAA9B,EAAA+B,cAAA4B,EAAA,GAAM1F,KAAK,UAAU8G,MAAO,CAAEW,SAAU,IAAMC,MAAI,IAClE,OACI7D,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,kBACXF,EAAA9B,EAAA+B,cAAA4D,EAAA,GAAMC,UAAWH,EAASzD,UAAU,OAAO6D,SAAU9E,KAAKc,MAAMxD,UAAWyH,KAAK,UAChFhE,EAAA9B,EAAA+B,cAACgE,GAAD,CAAWpI,UAAWoD,KAAKc,MAAMlE,UAAWqE,UAAU,eACtDF,EAAA9B,EAAA+B,cAAAiE,EAAA,GAAYhE,UAAU,aAClBiE,MAAOlF,KAAKc,MAAMzD,WAClB8H,SAAU,GACVC,SAAUpF,KAAKoE,uBArBhB7B,aA2BJ8C,eACX,SAAAxI,GAAK,MAAK,CACND,UAAWC,EAAMD,UACjBS,WAAaR,EAAMQ,WACnBC,UAAWT,EAAMS,YAErB,CAACuB,eAAcoB,iBANJoF,CAOblB,ICjCImB,+LAGEtF,KAAKc,MAAMjC,aAAa,mDAIxB,IAAM6F,EAAU3D,EAAA9B,EAAA+B,cAAA4B,EAAA,GAAM1F,KAAK,UAAU8G,MAAO,CAAEW,SAAU,IAAMC,MAAI,IAClE,OACI7D,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,kBACXF,EAAA9B,EAAA+B,cAAA4D,EAAA,GAAMC,UAAWH,EAASzD,UAAU,OAAO6D,SAAU9E,KAAKc,MAAMxD,UAAWyH,KAAK,UAChFhE,EAAA9B,EAAA+B,cAACgE,GAAD,CAAWpI,UAAWoD,KAAKc,MAAMlE,oBAXzB2F,aAiBT8C,eACX,SAAAxI,GAAK,MAAK,CACND,UAAWC,EAAMD,UACjBU,UAAWT,EAAMS,YAErB,CAACuB,gBALUwG,CAMbC,ICvBIC,8MAoBFnB,aAAe,SAACC,GAAS,IAAAmB,EACAlB,EAAKxD,MAAM2E,MAAM3H,OAA/B4H,EADcF,EACdE,KAAMxI,EADQsI,EACRtI,KACboH,EAAKxD,MAAMjC,aAAX,iBAAAqF,OAAyCwB,EAAzC,KAAAxB,OAAiDhH,EAAjD,KAAAgH,OAAyDG,EAAK,IAC9DE,SAASC,gBAAgBC,UAAY,sFApBrCzE,KAAK2F,YAAc,GACnB3F,KAAK2F,YAAYD,KAAO1F,KAAKc,MAAM2E,MAAM3H,OAAO4H,KAChD1F,KAAK2F,YAAYzI,KAAO8C,KAAKc,MAAM2E,MAAM3H,OAAOZ,KAChD8C,KAAKc,MAAMjC,aAAX,iBAAAqF,OAAyClE,KAAK2F,YAAYD,KAA1D,KAAAxB,OAAkElE,KAAK2F,YAAYzI,KAAnF,OACA8C,KAAKc,MAAMb,cAAX,iBAAAiE,OAA0ClE,KAAK2F,YAAYD,KAA3D,KAAAxB,OAAmElE,KAAK2F,YAAYzI,KAApF,wDAGkB,IAAA0I,EACG5F,KAAKc,MAAM2E,MAAM3H,OAA/B4H,EADWE,EACXF,KAAMxI,EADK0I,EACL1I,KACT8C,KAAK2F,YAAYD,OAASA,GAAQ1F,KAAK2F,YAAYzI,OAASA,IAC5D8C,KAAKc,MAAMjC,aAAX,iBAAAqF,OAAyCwB,EAAzC,KAAAxB,OAAiDhH,EAAjD,OACA8C,KAAKc,MAAMb,cAAX,iBAAAiE,OAA0CwB,EAA1C,KAAAxB,OAAkDhH,EAAlD,WACA8C,KAAK2F,YAAYD,KAAOA,EACxB1F,KAAK2F,YAAYzI,KAAOA,oCAW5B,IAAMwH,EAAU3D,EAAA9B,EAAA+B,cAAA4B,EAAA,GAAM1F,KAAK,UAAU8G,MAAO,CAAEW,SAAU,IAAMC,MAAI,IAClE,OACI7D,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,kBACXF,EAAA9B,EAAA+B,cAAA4D,EAAA,GAAMC,UAAWH,EAASzD,UAAU,OAAO6D,SAAU9E,KAAKc,MAAMxD,UAAWyH,KAAK,UAChFhE,EAAA9B,EAAA+B,cAACgE,GAAD,CAAWpI,UAAWoD,KAAKc,MAAMlE,UAAWqE,UAAU,eAElDjB,KAAKc,MAAMzD,WAAa,GACxB0D,EAAA9B,EAAA+B,cAAAiE,EAAA,GAAYhE,UAAU,aACtBiE,MAAOlF,KAAKc,MAAMzD,WAClB8H,SAAU,GACVC,SAAUpF,KAAKoE,eACf,aAtCG7B,aA6CR8C,eACX,SAAAxI,GAAK,MAAK,CACND,UAAWC,EAAMD,UACjBS,WAAaR,EAAMQ,WACnBC,UAAWT,EAAMS,YAErB,CAACuB,eAAcoB,iBANJoF,CAObE,ICrDIM,8MAoBFzB,aAAe,SAACC,GAAS,IACdyB,EAAWxB,EAAKxD,MAAM2E,MAAM3H,OAA5BgI,QACPxB,EAAKxD,MAAMjC,aAAX,eAAAqF,OAAuC4B,EAAvC,KAAA5B,OAAkDG,EAAO,IACzDE,SAASC,gBAAgBC,UAAY,sFArBpB,IACVqB,EAAW9F,KAAKc,MAAM2E,MAAM3H,OAA5BgI,QACP9F,KAAK2F,YAAc,CACfG,WAEJ9F,KAAKc,MAAMjC,aAAX,eAAAqF,OAAuC4B,EAAvC,OACA9F,KAAKc,MAAMb,cAAX,eAAAiE,OAAwC4B,EAAxC,yDAGkB,IACXA,EAAW9F,KAAKc,MAAM2E,MAAM3H,OAA5BgI,QACH9F,KAAK2F,YAAYG,UAAYA,IAC7B9F,KAAKc,MAAMjC,aAAX,eAAAqF,OAAuC4B,EAAvC,OACA9F,KAAKc,MAAMb,cAAX,eAAAiE,OAAwC4B,EAAxC,YACA9F,KAAK2F,YAAYG,QAAUA,oCAW/B,IAAMpB,EAAU3D,EAAA9B,EAAA+B,cAAA4B,EAAA,GAAM1F,KAAK,UAAU8G,MAAO,CAAEW,SAAU,IAAMC,MAAI,IAClE,OACI7D,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,kBACXF,EAAA9B,EAAA+B,cAAA4D,EAAA,GAAMC,UAAWH,EAASzD,UAAU,OAAO6D,SAAU9E,KAAKc,MAAMxD,UAAWyH,KAAK,UAChFhE,EAAA9B,EAAA+B,cAACgE,GAAD,CAAWpI,UAAWoD,KAAKc,MAAMlE,UAAWqE,UAAU,eAElDjB,KAAKc,MAAMzD,WAAa,GACxB0D,EAAA9B,EAAA+B,cAAAiE,EAAA,GAAYhE,UAAU,aACtBiE,MAAOlF,KAAKc,MAAMzD,WAClB8H,SAAU,GACVC,SAAUpF,KAAKoE,eACf,aAtCC7B,aA8CN8C,eACX,SAAAxI,GAAK,MAAK,CACND,UAAWC,EAAMD,UACjBS,WAAaR,EAAMQ,WACnBC,UAAWT,EAAMS,YAErB,CAACuB,eAAcoB,iBANJoF,CAObQ,sBCtDKE,gBAwDQC,oLA/CF,IAAAC,EAC6CjG,KAAKc,MAAhD1D,EADF6I,EACE7I,SAAU8I,EADZD,EACYC,oBAAqBC,EADjCF,EACiCE,SACtC,OACIpF,EAAA9B,EAAA+B,cAAAoF,GAAA,GACIC,MAAM,OACNC,KAAMH,EACNI,oBAAqB,CAACL,GACtBlC,MAAO,CAAEwC,WAAY,SAErBzF,EAAA9B,EAAA+B,cAAAoF,GAAA,EAAMK,KAAN,CAAWtI,IAAI,QACX4C,EAAA9B,EAAA+B,cAAC0F,EAAA,EAAD,CAAMC,GAAG,KAAT,iBAEJ5F,EAAA9B,EAAA+B,cAAAoF,GAAA,EAAMK,KAAN,CAAWtI,IAAI,aACX4C,EAAA9B,EAAA+B,cAAC0F,EAAA,EAAD,CAAMC,GAAG,cAAT,iBAEJ5F,EAAA9B,EAAA+B,cAAC+E,GAAD,CAAS1E,MAAM,gBAEPjE,EAASZ,MAAMuF,IAAI,SAAC7E,EAAMiF,GAAP,OACfpB,EAAA9B,EAAA+B,cAAAoF,GAAA,EAAMK,KAAN,CAAWtI,IAAK,QAAQgE,GACpBpB,EAAA9B,EAAA+B,cAAC0F,EAAA,EAAD,CAAMC,GAAI,kBAAoBxE,GAAQjF,OAKtD6D,EAAA9B,EAAA+B,cAAC+E,GAAD,CAAS1E,MAAM,gBAEPjE,EAASb,MAAMwF,IAAI,SAACP,EAAMW,GAAP,OACfpB,EAAA9B,EAAA+B,cAAAoF,GAAA,EAAMK,KAAN,CAAWtI,IAAK,QAAQgE,GACpBpB,EAAA9B,EAAA+B,cAAC0F,EAAA,EAAD,CAAMC,GAAI,kBAAoBxE,GAAQX,OAKtDT,EAAA9B,EAAA+B,cAAC+E,GAAD,CAAS1E,MAAM,eAAKJ,UAAU,YAEtB7D,EAASd,KAAKyF,IAAI,SAAC6E,EAAKzE,GAAN,OACdpB,EAAA9B,EAAA+B,cAAAoF,GAAA,EAAMK,KAAN,CAAWtI,IAAK,QAAQgE,GACpBpB,EAAA9B,EAAA+B,cAAC0F,EAAA,EAAD,CAAMC,GAAI,kBAAoBxE,GAAQyE,eA5ChDrE,aCUdsE,8BAAQC,eAASC,cACnBC,GAAUC,cAEZC,GAAW,GAETC,8MAMFC,YAAc,WAAa,IAAZnJ,EAAYnB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACZuK,EAAY,GAKhB,GAJgB,cAAZpJ,EAAK,KACLoJ,EAAY,4BAGA,aAAZpJ,EAAK,GAAmB,KACjBb,EAAYkH,EAAKxD,MAAjB1D,SAMDkK,EAA0B,SAAZrJ,EAAK,GAAgBA,EAAK,GAAKA,EAAK,GAAK,IAC7DoJ,EANoB,CAChBnK,KAAO,eACPsE,KAAO,eACPlF,KAAO,gBAGa2B,EAAK,IAAM,SAAMb,EAASkK,GAAarJ,EAAK,IAMxE,MAHgB,WAAZA,EAAK,KACLoJ,EAAY,qBAAQE,UAAUtJ,EAAK,KAEhCoJ,sFAIPrH,KAAKc,MAAM0G,cACX,IAAMC,EAAYC,OAAOC,YAAc,GAAK,GAC5CpD,SAASqD,eAAe,cAAc5D,MAAM6D,QAA5C,eAAA3D,OAAmEuD,EAAnE,OACAC,OAAOI,SAAW,WACd,IAAML,EAAYC,OAAOC,YAAc,GAAK,GAC5CpD,SAASqD,eAAe,cAAc5D,MAAM6D,QAA5C,eAAA3D,OAAmEuD,EAAnE,yCAIC,IAAA7G,EAAAZ,KACE5C,EAAY4C,KAAKc,MAAjB1D,SAKH8I,EAAsB,GACpBjI,EAAOyJ,OAAOK,SAAS3F,KAAK4F,MAAM,KAmCxC,MAlCgB,KAAZ/J,EAAK,KACLiI,EAAsB,QAEV,cAAZjI,EAAK,KACLiI,EAAsB,aAEV,aAAZjI,EAAK,KACLiI,EAAsBjI,EAAK,GAAK,IAAMA,EAAK,IAE/B,WAAZA,EAAK,KACLiI,EAAsB,IAM1BjI,EAAKgK,OAAO,EAAG,GACff,GAAWlH,KAAKoH,YAAYnJ,GAE5B+I,GAAQkB,OAAO,SAACH,GACZ,IAAI9J,EAAO8J,EAASI,SAASH,MAAM,KACnC/J,EAAKgK,OAAO,EAAG,IACff,GAAWtG,EAAKwG,YAAYnJ,KAGxBsG,SAASqD,eAAe,SAASQ,UAAYlB,GAC7C3C,SAASqD,eAAe,SAAS5D,MAAM6D,QAAvC,kBACAtD,SAASqD,eAAe,cAAc5D,MAAM6D,QAA5C,oBAEAtD,SAASqD,eAAe,SAAS5D,MAAM6D,QAAvC,iBACAtD,SAASqD,eAAe,cAAc5D,MAAM6D,QAA5C,oBAKJ9G,EAAA9B,EAAA+B,cAACqH,EAAA,EAAD,CAAQrB,QAASA,IACjBjG,EAAA9B,EAAA+B,cAAAsH,EAAA,GAAQrH,UAAU,UACdF,EAAA9B,EAAA+B,cAAC6F,GAAD,CAAQ5F,UAAU,UACdF,EAAA9B,EAAA+B,cAAC0F,EAAA,EAAD,CAAMzF,UAAU,OAAO0F,GAAG,MAE1B5F,EAAA9B,EAAA+B,cAAA,KAAGC,UAAU,UAAb,wCACAF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,mBACXF,EAAA9B,EAAA+B,cAACuH,GAAD,CAASpC,SAAS,aAAa/I,SAAUA,EAAU8I,oBAAqBA,KAE5EnF,EAAA9B,EAAA+B,cAAA4B,EAAA,GAAM3B,UAAU,YAAY/D,KAAK,SACjC6D,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,iBACXF,EAAA9B,EAAA+B,cAACuH,GAAD,CAASpC,SAAS,WAAW/I,SAAUA,EAAU8I,oBAAqBA,KAE1EnF,EAAA9B,EAAA+B,cAAA4B,EAAA,GAAM3B,UAAU,YAAY/D,KAAK,SACjC6D,EAAA9B,EAAA+B,cAAAwH,EAAA,EAAO3C,OAAP,CAAc5E,UAAU,SACpBwH,YAAY,yCACZC,aAAW,EACX3D,KAAK,QACL4D,SAAU,SAAAC,GACDA,GACL5B,GAAQ6B,KAAK,WAAaD,OAItC7H,EAAA9B,EAAA+B,cAAC8F,GAAD,CAASgC,GAAG,aAAa7H,UAAU,WAC/BF,EAAA9B,EAAA+B,cAAA,MAAI8H,GAAG,QAAQ7H,UAAU,YAAY+C,MAAO,CAAC+E,QAAS7B,GAAU,QAAS,SAAUA,IACnFnG,EAAA9B,EAAA+B,cAAAgI,EAAA,GAASF,GAAG,aAAa7H,UAAU,UAAU+C,MAAO,CAAC+E,QAAS7B,GAAU,QAAS,UACjFnG,EAAA9B,EAAA+B,cAACqH,EAAA,EAAD,KACItH,EAAA9B,EAAA+B,cAACqH,EAAA,EAAD,CAAOY,KAAK,aAAaC,UAAW5D,KACpCvE,EAAA9B,EAAA+B,cAACqH,EAAA,EAAD,CAAOY,KAAK,wBAAwBC,UAAW3D,KAC/CxE,EAAA9B,EAAA+B,cAACqH,EAAA,EAAD,CAAOY,KAAK,mBAAmBC,UAAWrD,KAC1C9E,EAAA9B,EAAA+B,cAACqH,EAAA,EAAD,CAAOc,OAAK,EAACF,KAAK,IAAIC,UAAW/E,KACjCpD,EAAA9B,EAAA+B,cAACqH,EAAA,EAAD,CAAUY,KAAK,IAAItC,GAAG,QAI9B5F,EAAA9B,EAAA+B,cAAC+F,GAAD,CAAQ/C,MAAO,CAAEoF,UAAW,WAA5B,yDACarI,EAAA9B,EAAA+B,cAAA,WADb,iCAESD,EAAA9B,EAAA+B,cAAA,KAAGoB,KAAK,0BAA0BC,IAAI,sBAAsBC,OAAO,UAAnE,4BAFT,8CAISvB,EAAA9B,EAAA+B,cAAA,KAAGoB,KAAK,iBAAiBC,IAAI,sBAAsBC,OAAO,UAA1D,8BAGbvB,EAAA9B,EAAA+B,cAAAqI,EAAA,GAASpI,UAAU,wBA7HZsB,aAmIJ8C,eACX,SAAAxI,GAAK,MAAK,CAACO,SAAUP,EAAMO,WAC3B,CAACoK,YRxHsB,WACvB,sBAAA8B,EAAAtL,OAAAe,EAAA,EAAAf,CAAAgB,EAAAC,EAAAC,KAAO,SAAAqK,EAAMnK,GAAN,IAAAC,EAAAC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAiK,GAAA,cAAAA,EAAA/J,KAAA+J,EAAA9J,MAAA,cAAA8J,EAAA9J,KAAA,EACoB9B,EAAKW,IAAI,iBAD7B,OACGc,EADHmK,EAAA7J,KAGiB,KADdL,EAASD,EAASlC,MACbyC,KACPR,GAzBchC,EAyBYkC,EAAOnC,KAzBL,CAACD,KAAMlB,EAAkBmB,KAAMC,KA2B3DgC,EAASX,EAAMa,EAAOZ,SANvB,wBAAA8K,EAAA3J,OArBc,IAACzC,GAqBfmM,MAAP,gBAAAE,GAAA,OAAAH,EAAAvJ,MAAAC,KAAAlD,YAAA,KQqHWuI,CAGb8B,ICnJFuC,IAAUC,OAAOpF,SAASqF,MAE1BC,IAASC,OACL/I,EAAA9B,EAAA+B,cAAC+I,EAAA,EAAD,CAAUC,MAAOA,GACbjJ,EAAA9B,EAAA+B,cAACiJ,GAAD,OAEL1F,SAASqD,eAAe","file":"static/js/main.a581dd80.chunk.js","sourcesContent":["/**\r\n * 所有action type常量定义\r\n */\r\n\r\nexport const RECEIVE_MEIJU_LIST = \"receive_meiju_list\";\r\nexport const RECEIVE_CATEGORY = \"receive_category\";\r\nexport const RECEIVE_MEIJU_COUNT = \"receive_meiju_count\";\r\nexport const ERROR = \"error\";\r\n\r\nexport const IS_LOADING = \"is_loading\";\r\n","/**\r\n * 包含n个reducer函数：根据老的state和指定的action返回一个新的state\r\n */\r\nimport {combineReducers} from 'redux'\r\n\r\nimport { \r\n    RECEIVE_MEIJU_LIST,\r\n    RECEIVE_CATEGORY,\r\n    RECEIVE_MEIJU_COUNT,\r\n    ERROR,\r\n    IS_LOADING\r\n} from \"./action-types\";\r\n\r\nconst initMeijuList = [];\r\nfunction meijuList(state = initMeijuList, action) {\r\n    switch (action.type) {\r\n        case RECEIVE_MEIJU_LIST:\r\n            return action.data;\r\n        case ERROR:\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst initCategory = {\r\n    tags : [],\r\n    areas : [],\r\n    types : []\r\n};\r\nfunction category(state = initCategory, action) {\r\n    switch (action.type) {\r\n        case RECEIVE_CATEGORY:\r\n            return action.data;\r\n        case ERROR:\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst initCount = 0;\r\nfunction meijuCount(state = initCount, action) {\r\n    switch (action.type) {\r\n        case RECEIVE_MEIJU_COUNT:\r\n            return action.data;\r\n        case ERROR:\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst initLoading = false;\r\nfunction isLoading(state = initLoading, action) {\r\n    switch (action.type) {\r\n        case IS_LOADING:\r\n            return action.data;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default combineReducers({\r\n    meijuList,\r\n    category,\r\n    meijuCount,\r\n    isLoading\r\n}); //向外暴露的结构：{meijuList:[], category:{}, count: 0}","/**\r\n * redux核心管理对象\r\n */\r\n\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nimport reducers from \"./reducers\";\r\n\r\n//向外暴露store对象\r\nexport default createStore(reducers, composeWithDevTools(applyMiddleware(thunk)));","import axios from \"axios\";\r\n\r\nconst ajax = {};\r\n\r\najax.get = (url, params = {}) => {\r\n    let paramsStr = ''\r\n    Object.keys(params).forEach(key => {\r\n        paramsStr += key + '=' + params[key] + '&';\r\n    });\r\n\r\n    if (paramsStr !== '') {\r\n        paramsStr = paramsStr.substring(0, paramsStr.lastIndexOf('&'));\r\n        url = url + '?' + paramsStr;\r\n    }\r\n\r\n    return axios.get(url);\r\n}\r\n\r\najax.post = (url, params = {}) => {\r\n    return axios.post(url, params);\r\n}\r\n\r\nexport default ajax;","/**\r\n * 包含n个action creator\r\n * 异步action\r\n * 同步action\r\n */\r\n\r\nimport ajax from \"../utils/ajax\";\r\nimport { \r\n    RECEIVE_MEIJU_LIST,\r\n    RECEIVE_CATEGORY,\r\n    RECEIVE_MEIJU_COUNT,\r\n    ERROR,\r\n    IS_LOADING\r\n} from \"./action-types\";\r\n\r\nconst receive_meiju_list = (meijuList) => ({type: RECEIVE_MEIJU_LIST, data: meijuList});\r\nconst receive_category = (category) => ({type: RECEIVE_CATEGORY, data: category});\r\nconst receive_meiju_count = (meijuCount) => ({type: RECEIVE_MEIJU_COUNT, data: meijuCount});\r\nconst error = (errMsg) => ({type: ERROR, data: errMsg});\r\n\r\nconst is_loading = (idLoading) => ({type: IS_LOADING, data: idLoading});\r\n\r\nexport const getMeijuList = (url, params) => {\r\n    return async dispatch => {\r\n        dispatch(is_loading(true));\r\n        const response = await ajax.get(url, params);\r\n        const result = response.data;\r\n        if (result.code === 0) {\r\n            dispatch(receive_meiju_list(result.data));\r\n        } else {\r\n            dispatch(error(result.errMsg));\r\n        }\r\n        dispatch(is_loading(false));\r\n    }\r\n}\r\n\r\nexport const getCategory = () => {\r\n    return async dispatch => {\r\n        const response = await ajax.get('/api/category');\r\n        const result = response.data;\r\n        if (result.code === 0) {\r\n            dispatch(receive_category(result.data));\r\n        } else {\r\n            dispatch(error(result.errMsg));\r\n        }\r\n    }\r\n}\r\n\r\nexport const getMeijuCount = (url) => {\r\n    return async dispatch => {\r\n        const response = await ajax.get(url);\r\n        const result = response.data;\r\n        if (result.code === 0) {\r\n            dispatch(receive_meiju_count(result.data.count));\r\n        } else {\r\n            dispatch(error(result.errMsg));\r\n        }\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { Typography, message } from \"antd\";\r\n\r\nimport './meiju_detail.less'\r\n\r\nconst {Paragraph} = Typography;\r\n\r\nclass MeijuDetail extends Component {\r\n\r\n    static propTypes = {\r\n        meiju : PropTypes.object.isRequired\r\n    }\r\n\r\n    handleCopy = () => {\r\n        message.success('复制成功！请打开迅雷进行下载！');\r\n    }\r\n\r\n    render() {\r\n        const {meiju} = this.props;\r\n        return (\r\n            <div>\r\n                <div className='info-box'>\r\n                    <img alt='' src={meiju.pic_url} />\r\n                    <div className='info'>\r\n                        <h1 className='detail-title'>{meiju.title}</h1>\r\n                        <Paragraph>{'别名：' + meiju.alias_title}</Paragraph>\r\n                        <Paragraph>{'英文名：' + meiju.en_title}</Paragraph>\r\n                        <Paragraph>{'类型：' + meiju.type}</Paragraph>\r\n                        <Paragraph>{'地区：' + meiju.area}</Paragraph>\r\n                        <Paragraph>{'标签：' + meiju.tags}</Paragraph>\r\n                        <Paragraph>{'首播日期：' + meiju.birth_date}</Paragraph>\r\n                        <Paragraph>{'翻译：' + meiju.translator}</Paragraph>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    meiju.files && meiju.files.length > 0 && meiju.files[0].name && meiju.files[0].url\r\n                    ? \r\n                    <div>\r\n                        <Paragraph className='download-all' \r\n                            copyable={{ \r\n                                text: meiju.files.map(file => file.url).join('\\n'),\r\n                                onCopy: this.handleCopy\r\n                                }}>\r\n                            复制全部下载链接</Paragraph>\r\n                        <div className='download-box'>\r\n                            {\r\n                                meiju.files.map((file, index) => (\r\n                                    <Paragraph key={index} copyable={{text: file.url, onCopy: this.handleCopy}}>{file.name}</Paragraph>\r\n                                ))\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    :\r\n                    <div>\r\n                        <Paragraph>{'暂无下载链接，请前往源站查看:'}</Paragraph>\r\n                        <a href={'https://www.meijutt.com' + meiju.href} rel='noopener noreferrer' target=\"_blank\">{'美剧天堂'}</a>\r\n                    </div>\r\n                }\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MeijuDetail;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { Row, Col, Modal } from \"antd\";\r\n\r\nimport './meiju_list.less';\r\n\r\nimport MeijuDetail from \"../meiju_detail/meiju_detail\";\r\n\r\nclass MeijuList extends Component {\r\n\r\n    static propTypes = {\r\n        meijuList : PropTypes.array.isRequired\r\n    }\r\n\r\n    detailsDialog = (meiju) => {\r\n        Modal.info({\r\n            icon : null,\r\n            className : 'modal',\r\n            okText : '关闭',\r\n            content : <MeijuDetail meiju={meiju} />,\r\n            centered : true,\r\n            maskClosable : true,\r\n            width : 'auto'\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {meijuList} = this.props;\r\n        return (\r\n            <div className='cards-container'>\r\n                <Row gutter={60} type=\"flex\" align=\"bottom\">\r\n                    {\r\n                        meijuList.map((meiju) => (\r\n                            <Col className='col'\r\n                                    key={meiju._id} xs={24} sm={24} md={12} lg={12} xl={8} xxl={6}>\r\n                                <div className='shadow-out'>\r\n                                    <div className='card card-shadow' onClick={this.detailsDialog.bind(this, meiju)}\r\n                                        style={{backgroundImage: `url(${meiju.pic_url})`}}\r\n                                        >\r\n                                        <div className='empty'></div>\r\n                                        <div className='content-box'>\r\n                                            <span className='categories'>{meiju.area+' '+meiju.type}</span><br/>\r\n                                            <span className='categories'>{'标签：' +meiju.tags}</span>\r\n                                            <h2 className='title'>{meiju.title}</h2>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </Col>\r\n                        ))\r\n                        \r\n                    }\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MeijuList;","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport {Pagination, Spin, Icon} from 'antd';\r\n\r\nimport { getMeijuList, getMeijuCount } from \"../../redux/actions\";\r\nimport MeijuList from '../../components/meiju_list/meiju_list'\r\n\r\nclass Home extends Component {\r\n\r\n    componentDidMount () {\r\n        this.props.getMeijuList('/api/meiju/0');\r\n        this.props.getMeijuCount('/api/meijuCount');\r\n    }\r\n\r\n    onPageChange = (page) => {\r\n        this.props.getMeijuList('/api/meiju/' + (page - 1));\r\n        document.documentElement.scrollTop = 0;\r\n    }\r\n\r\n    render() {\r\n        const antIcon = <Icon type=\"loading\" style={{ fontSize: 30 }} spin />;\r\n        return (\r\n            <div className='list-container'>\r\n                <Spin indicator={antIcon} className='spin' spinning={this.props.isLoading} size=\"large\" />\r\n                <MeijuList meijuList={this.props.meijuList} className='meiju-list'></MeijuList>\r\n                <Pagination className='pagination'\r\n                    total={this.props.meijuCount} \r\n                    pageSize={24} \r\n                    onChange={this.onPageChange}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        meijuList: state.meijuList,\r\n        meijuCount : state.meijuCount,\r\n        isLoading: state.isLoading\r\n    }),\r\n    {getMeijuList, getMeijuCount}\r\n)(Home);","import React, {Component} from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport MeijuList from '../../components/meiju_list/meiju_list';\r\nimport { getMeijuList } from \"../../redux/actions\";\r\n\r\nimport { Spin, Icon } from \"antd\";\r\n\r\nclass Recommend extends Component {\r\n\r\n    componentDidMount () {\r\n        this.props.getMeijuList('/api/recommend');\r\n    }\r\n\r\n    render() {\r\n        const antIcon = <Icon type=\"loading\" style={{ fontSize: 34 }} spin />;\r\n        return (\r\n            <div className='list-container'>\r\n                <Spin indicator={antIcon} className='spin' spinning={this.props.isLoading} size=\"large\" />\r\n                <MeijuList meijuList={this.props.meijuList}></MeijuList>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        meijuList: state.meijuList,\r\n        isLoading: state.isLoading\r\n    }),\r\n    {getMeijuList}\r\n)(Recommend);","import React, {Component} from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport {Pagination, Spin, Icon} from 'antd';\r\n\r\nimport { getMeijuList, getMeijuCount } from \"../../redux/actions\";\r\n\r\nimport MeijuList from \"../../components/meiju_list/meiju_list\";\r\n\r\nclass Category extends Component {\r\n\r\n    componentDidMount () {\r\n        this.customState = {};\r\n        this.customState.prop = this.props.match.params.prop;\r\n        this.customState.type = this.props.match.params.type;\r\n        this.props.getMeijuList(`/api/category/${this.customState.prop}/${this.customState.type}/0`);\r\n        this.props.getMeijuCount(`/api/category/${this.customState.prop}/${this.customState.type}/count`);\r\n    }\r\n\r\n    componentDidUpdate () {\r\n        const {prop, type} = this.props.match.params;\r\n        if (this.customState.prop !== prop || this.customState.type !== type) {\r\n            this.props.getMeijuList(`/api/category/${prop}/${type}/0`);\r\n            this.props.getMeijuCount(`/api/category/${prop}/${type}/count`);\r\n            this.customState.prop = prop;\r\n            this.customState.type = type;\r\n        }\r\n    }\r\n\r\n    onPageChange = (page) => {\r\n        const {prop, type} = this.props.match.params;\r\n        this.props.getMeijuList(`/api/category/${prop}/${type}/${page-1}`);\r\n        document.documentElement.scrollTop = 0;\r\n    }\r\n\r\n    render() {\r\n        const antIcon = <Icon type=\"loading\" style={{ fontSize: 30 }} spin />;\r\n        return (\r\n            <div className='list-container'>\r\n                <Spin indicator={antIcon} className='spin' spinning={this.props.isLoading} size=\"large\" />\r\n                <MeijuList meijuList={this.props.meijuList} className='meiju-list'></MeijuList>\r\n                {\r\n                    this.props.meijuCount > 24 ?\r\n                    <Pagination className='pagination'\r\n                    total={this.props.meijuCount} \r\n                    pageSize={24} \r\n                    onChange={this.onPageChange}/> :\r\n                    null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        meijuList: state.meijuList,\r\n        meijuCount : state.meijuCount,\r\n        isLoading: state.isLoading\r\n    }),\r\n    {getMeijuList, getMeijuCount}\r\n)(Category)","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport {Pagination, Spin, Icon} from 'antd';\r\n\r\nimport { getMeijuList, getMeijuCount } from \"../../redux/actions\";\r\nimport MeijuList from '../../components/meiju_list/meiju_list'\r\n\r\nclass Search extends Component {\r\n\r\n    componentDidMount () {\r\n        const {keyword} = this.props.match.params;\r\n        this.customState = {\r\n            keyword\r\n        };\r\n        this.props.getMeijuList(`/api/search/${keyword}/0`);\r\n        this.props.getMeijuCount(`/api/search/${keyword}/count/`);\r\n    }\r\n\r\n    componentDidUpdate () {\r\n        const {keyword} = this.props.match.params;\r\n        if (this.customState.keyword !== keyword) {\r\n            this.props.getMeijuList(`/api/search/${keyword}/0`);\r\n            this.props.getMeijuCount(`/api/search/${keyword}/count/`);\r\n            this.customState.keyword = keyword;\r\n        }\r\n    }\r\n\r\n    onPageChange = (page) => {\r\n        const {keyword} = this.props.match.params;\r\n        this.props.getMeijuList(`/api/search/${keyword}/${page - 1}`);\r\n        document.documentElement.scrollTop = 0;\r\n    }\r\n\r\n    render() {\r\n        const antIcon = <Icon type=\"loading\" style={{ fontSize: 30 }} spin />;\r\n        return (\r\n            <div className='list-container'>\r\n                <Spin indicator={antIcon} className='spin' spinning={this.props.isLoading} size=\"large\" />\r\n                <MeijuList meijuList={this.props.meijuList} className='meiju-list'></MeijuList>\r\n                {\r\n                    this.props.meijuCount > 24 ?\r\n                    <Pagination className='pagination'\r\n                    total={this.props.meijuCount} \r\n                    pageSize={24} \r\n                    onChange={this.onPageChange}/> :\r\n                    null\r\n                }\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        meijuList: state.meijuList,\r\n        meijuCount : state.meijuCount,\r\n        isLoading: state.isLoading\r\n    }),\r\n    {getMeijuList, getMeijuCount}\r\n)(Search);","import React, { Component } from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { Menu } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst {SubMenu} = Menu;\r\n\r\nclass MenuBar extends Component {\r\n\r\n    static propTypes = {\r\n        category : PropTypes.object.isRequired,\r\n        defaultSelectedMenu : PropTypes.string.isRequired\r\n    }\r\n\r\n    render() {\r\n        const {category, defaultSelectedMenu, menuMode} = this.props;\r\n        return (\r\n            <Menu\r\n                theme=\"dark\"\r\n                mode={menuMode}\r\n                defaultSelectedKeys={[defaultSelectedMenu]}\r\n                style={{ lineHeight: '64px' }}\r\n                >\r\n                <Menu.Item key=\"home\">\r\n                    <Link to='/'>首页</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"recommend\">\r\n                    <Link to='/recommend'>推荐</Link>\r\n                </Menu.Item>\r\n                <SubMenu title='分类'>\r\n                    {\r\n                        category.types.map((type, index) => (\r\n                            <Menu.Item key={'type-'+index}>\r\n                                <Link to={'/category/type/' + index}>{type}</Link>\r\n                            </Menu.Item>\r\n                        ))\r\n                    }\r\n                </SubMenu>\r\n                <SubMenu title='地区'>\r\n                    {\r\n                        category.areas.map((area, index) => (\r\n                            <Menu.Item key={'area-'+index}>\r\n                                <Link to={'/category/area/' + index}>{area}</Link>\r\n                            </Menu.Item>\r\n                        ))\r\n                    }\r\n                </SubMenu>\r\n                <SubMenu title='标签' className='menu-box'>\r\n                    {\r\n                        category.tags.map((tag, index) => (\r\n                            <Menu.Item key={'tags-'+index}>\r\n                                <Link to={'/category/tags/' + index}>{tag}</Link>\r\n                            </Menu.Item>\r\n                        ))\r\n                    }\r\n                </SubMenu>\r\n            </Menu>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MenuBar;","import React, {Component} from 'react';\r\nimport {Router, Switch, Route, Link, Redirect} from 'react-router-dom'\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nimport Home from \"../../containers/home/home\";\r\nimport Recommend from '../../containers/recommend/recommend';\r\nimport Category from \"../../containers/category/category\";\r\nimport Search from '../../containers/search/search'\r\n\r\nimport MenuBar from \"../../components/menu_bar/menu_bar\";\r\n\r\nimport { getCategory } from \"../../redux/actions\";\r\n\r\nimport './main.less';\r\nimport '../../common/common.less';\r\nimport { Layout, BackTop, Input, Divider, Icon } from 'antd';\r\nconst { Header, Content, Footer } = Layout;\r\nconst history = createBrowserHistory();\r\n\r\nlet subTitle = '';\r\n\r\nclass Main extends Component {\r\n\r\n    static propTypes = {\r\n        category : PropTypes.object.isRequired\r\n    }\r\n\r\n    getSubTitle = (keys=[]) => {\r\n        let _sunTitle = '';\r\n        if (keys[0] === 'recommend') {\r\n            _sunTitle = '站长推荐';\r\n        }\r\n\r\n        if (keys[0] === 'category') {\r\n            const {category} = this.props;\r\n            const categoryMap = {\r\n                type : '分类',\r\n                area : '地区',\r\n                tags : '标签'\r\n            };\r\n            const categoryKey = keys[1] === 'tags' ? keys[1] : keys[1] + 's';\r\n            _sunTitle = categoryMap[keys[1]] + '：' + category[categoryKey][keys[2]];\r\n        }\r\n\r\n        if (keys[0] === 'search') {\r\n            _sunTitle = '搜索：' + decodeURI(keys[1]);\r\n        }\r\n        return _sunTitle;\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.getCategory();\r\n        const minHeight = window.innerHeight - 64 - 72;\r\n        document.getElementById('content_id').style.cssText=`min-height: ${minHeight}px;`;\r\n        window.onresize = function(){\r\n            const minHeight = window.innerHeight - 64 - 72;\r\n            document.getElementById('content_id').style.cssText=`min-height: ${minHeight}px;`;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {category} = this.props;\r\n\r\n        /**\r\n         * 刷新时设置选中菜单\r\n         */\r\n        let defaultSelectedMenu = '';\r\n        const keys = window.location.href.split('/');\r\n        if (keys[3] === '') {\r\n            defaultSelectedMenu = 'home';\r\n        }\r\n        if (keys[3] === 'recommend') {\r\n            defaultSelectedMenu = 'recommend';\r\n        }\r\n        if (keys[3] === 'category') {\r\n            defaultSelectedMenu = keys[4] + '-' + keys[5];\r\n        }\r\n        if (keys[3] === 'search') {\r\n            defaultSelectedMenu = '';\r\n        }\r\n\r\n        /**\r\n         * 设置子标题\r\n         */\r\n        keys.splice(0, 3);\r\n        subTitle = this.getSubTitle(keys);\r\n\r\n        history.listen((location) => {\r\n            let keys = location.pathname.split('/');\r\n            keys.splice(0, 1);\r\n            subTitle = this.getSubTitle(keys);\r\n            \r\n            if (subTitle) {\r\n                document.getElementById('h1_id').innerHTML = subTitle;\r\n                document.getElementById('h1_id').style.cssText=`display: block;`;\r\n                document.getElementById('divider_id').style.cssText=`display: block;`;\r\n            } else {\r\n                document.getElementById('h1_id').style.cssText=`display: none;`;\r\n                document.getElementById('divider_id').style.cssText=`display: none;`;\r\n            }\r\n        });\r\n\r\n        return (\r\n            <Router history={history}>\r\n            <Layout className='layout'>\r\n                <Header className='header'>\r\n                    <Link className=\"logo\" to='/'>\r\n                    </Link>\r\n                    <p className='slogen'>美剧一键下载</p>\r\n                    <div className='menu-horizontal'>\r\n                        <MenuBar menuMode='horizontal' category={category} defaultSelectedMenu={defaultSelectedMenu}></MenuBar>\r\n                    </div>\r\n                    <Icon className='menu-icon' type=\"menu\" />\r\n                    <div className='menu-vertical'>\r\n                        <MenuBar menuMode='vertical' category={category} defaultSelectedMenu={defaultSelectedMenu}></MenuBar>\r\n                    </div>\r\n                    <Icon className='user-icon' type='user' />\r\n                    <Input.Search className='search'\r\n                        placeholder=\"中文/英文/别名\"\r\n                        enterButton\r\n                        size=\"large\"\r\n                        onSearch={value => {\r\n                            if (!value) return;\r\n                            history.push(\"/search/\" + value);\r\n                        }} />\r\n                </Header>\r\n\r\n                <Content id='content_id' className='content'>\r\n                    <h1 id='h1_id' className='sub-title' style={{display: subTitle? 'block': 'none'}}>{subTitle}</h1>\r\n                    <Divider id='divider_id' className='divider' style={{display: subTitle? 'block': 'none'}} />\r\n                    <Switch>\r\n                        <Route path='/recommend' component={Recommend}/>\r\n                        <Route path='/category/:prop/:type' component={Category}/>\r\n                        <Route path='/search/:keyword' component={Search}/>\r\n                        <Route exact path='/' component={Home}/>\r\n                        <Redirect path=\"*\" to=\"/\" />\r\n                    </Switch>\r\n                </Content>\r\n\r\n                <Footer style={{ textAlign: 'center' }}>\r\n                    本站仅供学习使用！<br/>\r\n                    数据来源：<a href='https://www.meijutt.com' rel='noopener noreferrer' target=\"_blank\">美剧天堂</a>\r\n                    &nbsp;&nbsp;&nbsp;\r\n                    设计参考：<a href='http://ddrk.me' rel='noopener noreferrer' target=\"_blank\">低端影视</a>\r\n                </Footer>\r\n            </Layout>\r\n            <BackTop className='back-to-top' />\r\n            </Router>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({category: state.category}),\r\n    {getCategory}\r\n)(Main);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport FastClick from 'fastclick';\r\n\r\nimport store from './redux/store'\r\n\r\nimport Main from './containers/main/main';\r\n\r\nFastClick.attach(document.body);\r\n\r\nReactDOM.render((\r\n    <Provider store={store}>\r\n        <Main />\r\n    </Provider>\r\n), document.getElementById(\"root\"));"],"sourceRoot":""}